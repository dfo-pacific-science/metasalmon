% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ontology_validate.R
\name{validate_ontology_terms}
\alias{validate_ontology_terms}
\title{Validate dictionary IRIs against the DFO Salmon Ontology}
\usage{
validate_ontology_terms(
  dict,
  ontology_terms = NULL,
  fields = c("term_iri", "property_iri", "entity_iri", "unit_iri",
    "constraint_iri", "method_iri"),
  gcdfo_ns = "https://w3id.org/gcdfo/salmon#"
)
}
\arguments{
\item{dict}{A dictionary tibble (as produced by \code{\link{infer_dictionary}}).}

\item{ontology_terms}{A tibble of ontology terms as returned by
\code{\link{parse_ontology_terms}}. If \code{NULL}, the ontology is fetched and parsed
automatically via \code{\link{fetch_salmon_ontology}} + \code{\link{parse_ontology_terms}}.}

\item{fields}{Character vector of IRI column names to validate. Defaults to
the standard semantic fields: \code{term_iri}, \code{property_iri}, \code{entity_iri},
\code{unit_iri}, \code{constraint_iri}, \code{method_iri}.}

\item{gcdfo_ns}{Character; the gcdfo namespace IRI prefix used to identify
ontology-scoped terms. Default: \code{"https://w3id.org/gcdfo/salmon#"}.}
}
\value{
A list with class \code{"ms_validation_report"} containing:
\describe{
  \item{status}{Overall status: \code{"pass"}, \code{"warn"}, or \code{"fail"} (character).}
  \item{summary}{A one-line summary message (character).}
  \item{results}{A tibble with one row per validated IRI, columns:
    \code{column_name}, \code{field}, \code{iri}, \code{status} (pass/warn/fail), \code{message}.}
  \item{ontology_version}{Version string from ontology header, or \code{NA}.}
  \item{n_pass}{Count of pass results.}
  \item{n_warn}{Count of warn results.}
  \item{n_fail}{Count of fail results.}
}
}
\description{
Checks that IRI fields in a data dictionary reference valid terms from the
DFO Salmon Ontology (or other namespaces). Produces a structured validation
report with pass/warn/fail status for each IRI.
}
\details{
The validation logic:
\itemize{
  \item \strong{pass} -- IRI is found in the ontology term list.
  \item \strong{warn} -- IRI is non-empty but uses a namespace outside the
    ontology (e.g. \code{dwc:}, \code{dcterms:}, \code{qudt:}) and therefore cannot be
    verified. Also raised when the IRI is empty for a non-measurement column.
  \item \strong{fail} -- IRI uses the \code{gcdfo:} namespace but is not present in the
    ontology, indicating a typo or stale reference.
}
}
\examples{
\dontrun{
ttl_path <- fetch_salmon_ontology()
terms <- parse_ontology_terms(ttl_path)
dict <- infer_dictionary(my_data)
report <- validate_ontology_terms(dict, terms)
print(report)
}
}
