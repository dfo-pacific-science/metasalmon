<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Linking to Standard Vocabularies • metasalmon</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Linking to Standard Vocabularies">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metasalmon</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/metasalmon.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data-dictionary-publication.html">Publishing Data Packages</a></li>
    <li><a class="dropdown-item" href="../articles/reusing-standards-salmon-data-terms.html">Linking to Standard Vocabularies</a></li>
    <li><a class="dropdown-item" href="../articles/github-csv-access.html">Reading CSVs from Private GitHub Repositories</a></li>
    <li><a class="dropdown-item" href="../articles/gpt-collaboration.html">Using AI to Document Your Data</a></li>
    <li><a class="dropdown-item" href="../articles/glossary.html">Glossary of Terms</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Linking to Standard Vocabularies</h1>
            
      

      <div class="d-none name"><code>reusing-standards-salmon-data-terms.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>When you reuse published salmon data terms, your dictionary becomes
easier for other scientists and machines to understand. This guide
explains when to reuse an existing term, how to point to it, and how to
discover terms without drowning in jargon.</p>
<div class="section level3">
<h3 id="why-reuse-shared-terms">Why reuse shared terms?<a class="anchor" aria-label="anchor" href="#why-reuse-shared-terms"></a>
</h3>
<ul>
<li>
<strong>Consistency</strong>: Everyone who links to the same term
knows they are talking about the same thing. For example, connecting
<code>SPAWN_EST</code> to a DFO term called “Natural spawner count”
removes guesswork.</li>
<li>
<strong>Automation</strong>: Tools can read a standard
<code>IRI</code> (Internationalized Resource Identifier, a kind of web
address for a definition) and know what to expect without human
explanation.</li>
<li>
<strong>Future-proofing</strong>: Standards, like the DFO Salmon
Ontology, evolve alongside policy. By linking to them now, you can pick
up improvements later.</li>
</ul>
</div>
<div class="section level3">
<h3 id="choosing-a-term">Choosing a term<a class="anchor" aria-label="anchor" href="#choosing-a-term"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Look for a term that matches the column</strong>. Use
<code>find_terms("spawner count")</code> to search DFO, OLS, and other
vocabularies.</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dfo-pacific-science.github.io/metasalmon/">metasalmon</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">load_all</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/find_terms.html">find_terms</a></span><span class="op">(</span><span class="st">"spawner count"</span>,</span>
<span>           role <span class="op">=</span> <span class="st">"property"</span>,</span>
<span>           sources <span class="op">=</span> <span class="fu"><a href="../reference/sources_for_role.html">sources_for_role</a></span><span class="op">(</span><span class="st">"property"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">source</span>, <span class="va">ontology</span>, <span class="va">score</span>, <span class="va">alignment_only</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This example uses the role-aware source set and surfaces
<code>alignment_only</code> so you can down-weight Wikidata crosswalks
when reviewing candidates. The <code>score</code> column shows the
computed ranking, which factors in ontology preferences, cross-source
agreement, and ZOOMA confidence.</p>
<div class="section level4">
<h4 id="available-sources-by-role">Available sources by role<a class="anchor" aria-label="anchor" href="#available-sources-by-role"></a>
</h4>
<p><code><a href="../reference/find_terms.html">find_terms()</a></code> can query multiple vocabulary sources. Use
<code><a href="../reference/sources_for_role.html">sources_for_role()</a></code> to get the recommended sources for each
I-ADOPT role:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sources_for_role.html">sources_for_role</a></span><span class="op">(</span><span class="st">"unit"</span><span class="op">)</span></span>
<span><span class="co"># Returns: c("qudt", "nvs", "ols")</span></span>
<span></span>
<span><span class="fu"><a href="../reference/sources_for_role.html">sources_for_role</a></span><span class="op">(</span><span class="st">"entity"</span><span class="op">)</span></span>
<span><span class="co"># Returns: c("gbif", "worms", "bioportal", "ols")</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="17%">
<col width="61%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th>Role</th>
<th>Recommended Sources</th>
<th>Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>unit</code></td>
<td>QUDT, NVS P06, OLS</td>
<td>QUDT preferred for SI units</td>
</tr>
<tr class="even">
<td><code>property</code></td>
<td>NVS P01, OLS, ZOOMA</td>
<td>Measurement ontologies like STATO/OBA</td>
</tr>
<tr class="odd">
<td><code>entity</code></td>
<td>GBIF, WoRMS, BioPortal, OLS</td>
<td>Taxon resolvers for species</td>
</tr>
<tr class="even">
<td><code>method</code></td>
<td>BioPortal, OLS, ZOOMA</td>
<td>gcdfo SKOS methods preferred</td>
</tr>
<tr class="odd">
<td><code>variable</code></td>
<td>NVS, OLS, ZOOMA</td>
<td>Compound observables</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="searching-for-units-with-qudt">Searching for units with QUDT<a class="anchor" aria-label="anchor" href="#searching-for-units-with-qudt"></a>
</h4>
<p>For unit columns, QUDT provides authoritative unit IRIs:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/find_terms.html">find_terms</a></span><span class="op">(</span><span class="st">"kilogram"</span>, role <span class="op">=</span> <span class="st">"unit"</span>, sources <span class="op">=</span> <span class="fu"><a href="../reference/sources_for_role.html">sources_for_role</a></span><span class="op">(</span><span class="st">"unit"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">iri</span>, <span class="va">source</span>, <span class="va">score</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="searching-for-taxa-with-gbifworms">Searching for taxa with GBIF/WoRMS<a class="anchor" aria-label="anchor" href="#searching-for-taxa-with-gbifworms"></a>
</h4>
<p>For species or organism columns, use taxon resolvers:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/find_terms.html">find_terms</a></span><span class="op">(</span><span class="st">"Oncorhynchus kisutch"</span>, role <span class="op">=</span> <span class="st">"entity"</span>, sources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gbif"</span>, <span class="st">"worms"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">iri</span>, <span class="va">source</span>, <span class="va">ontology</span>, <span class="va">score</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="interpreting-results">Interpreting results<a class="anchor" aria-label="anchor" href="#interpreting-results"></a>
</h4>
<p>The results include several columns for transparency:</p>
<ul>
<li>
<strong>score</strong>: Computed ranking incorporating source
preferences, role boosts, and cross-source agreement</li>
<li>
<strong>alignment_only</strong>: <code>TRUE</code> for Wikidata
terms (useful for crosswalks, not canonical modeling)</li>
<li>
<strong>agreement_sources</strong>: How many sources returned this
term (higher = more confidence)</li>
<li>
<strong>zooma_confidence/zooma_annotator</strong>: ZOOMA annotation
confidence when applicable</li>
</ul>
<p>Filter out alignment-only terms when selecting canonical IRIs:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_terms.html">find_terms</a></span><span class="op">(</span><span class="st">"salmon"</span>, sources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ols"</span>, <span class="st">"nvs"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">canonical</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">[</span><span class="op">!</span><span class="va">results</span><span class="op">$</span><span class="va">alignment_only</span>, <span class="op">]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="debugging-slow-or-empty-searches">Debugging slow or empty searches<a class="anchor" aria-label="anchor" href="#debugging-slow-or-empty-searches"></a>
</h4>
<p>If a search returns unexpected results, check the diagnostics:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_terms.html">find_terms</a></span><span class="op">(</span><span class="st">"temperature"</span>, sources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ols"</span>, <span class="st">"nvs"</span>, <span class="st">"zooma"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">diagnostics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">results</span>, <span class="st">"diagnostics"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">diagnostics</span><span class="op">)</span></span>
<span><span class="co"># Shows: source, query, status (success/error), count, elapsed_secs, error message</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<strong>Decide what kind of term it is</strong>:
<ul>
<li>Use a controlled vocabulary term (SKOS concept) when the column
holds one of a set of codes (species, run type, etc.).</li>
<li>Use an ontology class (OWL) when the column names a category you
would treat as a type in data (for example, what kind of unit or entity
each row is about).</li>
</ul>
</li>
<li>
<strong>Capture the link</strong>: place the chosen URI in
<code>term_iri</code> for the dictionary row. Mention it once; you do
not need to repeat the same URI in multiple columns unless they
genuinely mean different things.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/infer_dictionary.html">infer_dictionary</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  dataset_id <span class="op">=</span> <span class="st">"my-dataset-2026"</span>,</span>
<span>  table_id <span class="op">=</span> <span class="st">"main-table"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dict</span><span class="op">$</span><span class="va">term_iri</span><span class="op">[</span><span class="va">dict</span><span class="op">$</span><span class="va">column_name</span> <span class="op">==</span> <span class="st">"SPAWN_EST"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"https://w3id.org/gcdfo/salmon#NaturalSpawnerCount"</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="working-with-semantic-web-terms-plain-language">Working with semantic web terms (plain language)<a class="anchor" aria-label="anchor" href="#working-with-semantic-web-terms-plain-language"></a>
</h3>
<ul>
<li>
<strong>IRI</strong>: think of it as the web address that points to
a formal definition. You only need to copy-paste it; you do not need to
understand the underlying formal logic.</li>
<li>
<strong>term_iri</strong>: attaches the chosen web address to a
column so the column is self-explanatory.</li>
<li>
<strong>entity_iri</strong> and <strong>property_iri</strong>:
optional links for measurement columns. Use <code>property_iri</code> to
specify what characteristic was measured (e.g., “count”), and
<code>entity_iri</code> to specify what was measured (e.g., “spawning
salmon”).</li>
<li>
<strong>constraint_iri</strong>: an optional I-ADOPT component that
qualifies the measurement (e.g., “maximum”, “annual average”). Use it
only when it adds clarity.</li>
</ul>
</div>
<div class="section level3">
<h3 id="when-to-skip-linking">When to skip linking<a class="anchor" aria-label="anchor" href="#when-to-skip-linking"></a>
</h3>
<ul>
<li>If a column is purely administrative or custom to your survey, it is
fine to leave <code>term_iri</code> blank and rely on your own
<code>column_description</code>.</li>
<li>If you cannot find a fitting term, note the idea in
<code>gpt_proposed_terms.csv</code> and move on. You can revisit it
later when new terms are published.</li>
</ul>
</div>
<div class="section level3">
<h3 id="building-vocabulary-aware-code-lists">Building vocabulary-aware code lists<a class="anchor" aria-label="anchor" href="#building-vocabulary-aware-code-lists"></a>
</h3>
<ul>
<li>If a categorical column such as <code>SPECIES</code> uses a
published vocabulary, add a <code>code_value</code> row that matches the
vocabulary notation and include the <code>term_iri</code> for the
concept.</li>
<li>If you do not have a matching vocabulary, describe the codes clearly
in <code>code_label</code> and <code>code_description</code> so
reviewers do not have to guess.</li>
</ul>
</div>
<div class="section level3">
<h3 id="exploring-suggestions-with-metasalmon">Exploring suggestions with metasalmon<a class="anchor" aria-label="anchor" href="#exploring-suggestions-with-metasalmon"></a>
</h3>
<p><code><a href="../reference/suggest_semantics.html">suggest_semantics()</a></code> can look at your dictionary and
offer <code>term_iri</code>, <code>entity_iri</code>, or I-ADOPT
components based on the bundled catalog.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dict_suggested</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suggest_semantics.html">suggest_semantics</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dict</span>, sources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ols"</span>, <span class="st">"nvs"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">suggestions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">dict_suggested</span>, <span class="st">"semantic_suggestions"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">suggestions</span><span class="op">)</span></span></code></pre></div>
<p>It is safe to accept suggestions as a starting point, then tweak the
term labels to match your domain-specific language.</p>
</div>
<div class="section level3">
<h3 id="next-steps">Next steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h3>
<ul>
<li>See the “How It Fits Together” section in the README for context on
how the dictionary, ontology, and GPT assistant team up.</li>
<li>Follow the <a href="data-dictionary-publication.html">Publishing
Data Packages</a> guide when you finalize your metadata before
publishing.</li>
<li>Try the <a href="gpt-collaboration.html">Using AI to Document Your
Data</a> workflow to draft column descriptions or propose new terms when
the catalog does not yet cover your concept.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brett Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
