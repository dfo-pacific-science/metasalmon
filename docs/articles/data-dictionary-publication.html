<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Dictionary and Publication • metasalmon</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Dictionary and Publication">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metasalmon</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/metasalmon.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data-dictionary-publication.html">Data Dictionary and Publication</a></li>
    <li><a class="dropdown-item" href="../articles/reusing-standards-salmon-data-terms.html">Reusing Standards for Salmon Data Terms</a></li>
    <li><a class="dropdown-item" href="../articles/gpt-collaboration.html">AI Assistance for Salmon Data Packages</a></li>
    <li><a class="dropdown-item" href="../articles/glossary.html">Glossary</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Dictionary and Publication</h1>
            
      

      <div class="d-none name"><code>data-dictionary-publication.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This guide walks through the parts of a Salmon Data Package you need
to polish before sharing it. That includes the dictionary that documents
every column, the dataset and table metadata that describe the package,
and the optional codes lists you include when columns use controlled
values. When all of the pieces are ready, <code>metasalmon</code> writes
the files that match the Salmon Data Package specification so you can
upload or hand the folder to someone else with confidence.</p>
<div class="section level3">
<h3 id="start-with-your-data">1) Start with your data<a class="anchor" aria-label="anchor" href="#start-with-your-data"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dfo-pacific-science.github.io/metasalmon/">metasalmon</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Replace with your own data path</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"my-table.csv"</span><span class="op">)</span></span></code></pre></div>
<p>Keep working copies of your data frame handy so you can re-run these
steps whenever the source data changes.</p>
</div>
<div class="section level3">
<h3 id="build-a-starter-column-dictionary">2) Build a starter column dictionary<a class="anchor" aria-label="anchor" href="#build-a-starter-column-dictionary"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/infer_dictionary.html">infer_dictionary</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  dataset_id <span class="op">=</span> <span class="st">"my-dataset-2026"</span>,</span>
<span>  table_id <span class="op">=</span> <span class="st">"main-table"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The dictionary lists every column and assigns a
<code>column_role</code> (identifier, attribute, measurement, temporal,
or categorical). Move through the rows and fill in
<code>column_label</code>, <code>column_description</code>, and
<code>value_type</code> so reviewers understand what each field means,
and mark columns as <code>required</code> when they must appear in every
row.</p>
</div>
<div class="section level3">
<h3 id="describe-the-dataset-and-tables">3) Describe the dataset and tables<a class="anchor" aria-label="anchor" href="#describe-the-dataset-and-tables"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset_meta</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  dataset_id <span class="op">=</span> <span class="st">"my-dataset-2026"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"My Project Data"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Sample data describing salmon measurements"</span>,</span>
<span>  creator <span class="op">=</span> <span class="st">"Your Team"</span>,</span>
<span>  contact_name <span class="op">=</span> <span class="st">"Data Steward"</span>,</span>
<span>  contact_email <span class="op">=</span> <span class="st">"data@example.gov"</span>,</span>
<span>  license <span class="op">=</span> <span class="st">"Open Government License - Canada"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">table_meta</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  dataset_id <span class="op">=</span> <span class="st">"my-dataset-2026"</span>,</span>
<span>  table_id <span class="op">=</span> <span class="st">"main-table"</span>,</span>
<span>  file_name <span class="op">=</span> <span class="st">"main-table.csv"</span>,</span>
<span>  table_label <span class="op">=</span> <span class="st">"Main Salmon Table"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Escapement and effort data by population"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Include extra columns such as <code>spatial_extent</code>,
<code>temporal_start</code>, or <code>table_label</code> when they help
others understand the scope.</p>
</div>
<div class="section level3">
<h3 id="add-codes-lists-when-needed">4) Add codes lists when needed<a class="anchor" aria-label="anchor" href="#add-codes-lists-when-needed"></a>
</h3>
<p>Only create <code>codes.csv</code> when a column uses categorical
values (species, run_type, gear, etc.). Each row ties a
<code>code_value</code> to a short label and, ideally, the ontology term
that explains what the code means.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  dataset_id <span class="op">=</span> <span class="st">"my-dataset-2026"</span>,</span>
<span>  table_id <span class="op">=</span> <span class="st">"main-table"</span>,</span>
<span>  column_name <span class="op">=</span> <span class="st">"RUN_TYPE"</span>,</span>
<span>  code_value <span class="op">=</span> <span class="st">"FALL"</span>,</span>
<span>  code_label <span class="op">=</span> <span class="st">"Fall run timing"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>If the column reuses a published controlled vocabulary (like the DFO
Salmon Ontology), include the matching IRI in <code>term_iri</code> so
automated tools can link to the definition.</p>
</div>
<div class="section level3">
<h3 id="create-the-package">5) Create the package<a class="anchor" aria-label="anchor" href="#create-the-package"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resources</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>main <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pkg_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_salmon_datapackage.html">create_salmon_datapackage</a></span><span class="op">(</span></span>
<span>  resources <span class="op">=</span> <span class="va">resources</span>,</span>
<span>  dataset_meta <span class="op">=</span> <span class="va">dataset_meta</span>,</span>
<span>  table_meta <span class="op">=</span> <span class="va">table_meta</span>,</span>
<span>  dict <span class="op">=</span> <span class="va">dict</span>,</span>
<span>  codes <span class="op">=</span> <span class="va">codes</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"my-data-package"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"csv"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">pkg_path</span><span class="op">)</span></span></code></pre></div>
<p>This writes the CSV files plus <code>datapackage.json</code> that
follow the Salmon Data Package specification. The folder is now ready
for publication, archiving, or sharing with colleagues.</p>
</div>
<div class="section level3">
<h3 id="validation-before-publication">Validation before publication<a class="anchor" aria-label="anchor" href="#validation-before-publication"></a>
</h3>
<ul>
<li>Run <code>validate_dictionary(dict)</code> to ensure the dictionary
has required columns and valid
<code>column_role</code>/<code>value_type</code> combinations.</li>
<li>If you generated <code>codes.csv</code>, double-check that every
code used in the data has an entry there.</li>
<li>Re-open the package with
<code>read_salmon_datapackage(pkg_path)</code> to confirm the metadata,
dictionary, and data align.</li>
</ul>
</div>
<div class="section level3">
<h3 id="next-steps">Next steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h3>
<ul>
<li>See the “How It Fits Together” section in the README (link to
<code>#how-it-fits-together</code>) for a visual map of how the
components interact.</li>
<li>Read the <a href="articles/reusing-standards-salmon-data-terms.html">Reusing
Standards for Salmon Data Terms</a> guide when you want to align your
dictionary with published vocabularies.</li>
<li>Try the Salmon Data Standardizer GPT for drafting descriptions and
ontology-aligned metadata quickly.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brett Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
